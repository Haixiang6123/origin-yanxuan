# 接口文档

## 约定

### 后台回传数据

|名称|含义|类型|取值范围|
|---|---|---|---|
|result|请求结果|string|"success"/"failure"|
|data|请求状态|json|{根据属性自定}|
|error|错误名|string|根据错误自定|
|errorMessage|错误信息|string|简要描述错误, 用户可以看懂此描述|

返回格式样例

```json
　{
    "result":"success"/"failure", 
    "data": 
    {
        "键": "值"
    },
    "error":"错误名", 
    "errorMessage": "错误信息"
  }
```

## 系统模块

### 注册模块

| 接口地址 | 请求方式 |
| --- | --- |
| /users/register | POST |

#### 请求参数

|名称|含义|类型|
|---|---|---|
|telephone|手机号|string|
|password|密码|string|

请求参数示例：

```json
{
    "email": "18805862675",
    "password": "123456"
}
```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|string|

成功返回数据示例：

```json
{
    "result": "success",
    
}
```

失败返回数据示例：

```json
{
    "result": "error",
  
}
```
### 登录模块

| 接口地址 | 请求方式 |
| --- | --- |
| /users/login | POST |

#### 请求参数

|名称|含义|类型|
|---|---|---|
|telephone|手机号|string|
|password|密码|string|

请求参数示例：

```json
{
    "telephone": "18805862675",
    "password": "123456"
}
```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|string|
|user|成功时返回|object|
|errorMsg|失败时返回|string|


成功返回数据示例：

```json
{
    "result": "success",
    "user": {
        "_id": "5964653f7c95dd120ca8e5b9",
        "telephone": "18805862675",
        "password": "123456",
        "__v": 0,
        "address": [],
        "interest": []
    }
}
```

失败返回数据示例：
#### 密码错误
```json  
{
    "result": "error",
    "errorMeg": "1"
}
```
#### 找不到该用户
```json
{
    "result": "error",
    "errorMeg": "2"
}
```

### 修改用户信息模块

| 接口地址 | 请求方式 |
| --- | --- |
| /users/changeInformation |PATCH|

#### 请求参数

|名称|含义|类型|
|---|---|---|
|telephone|手机号|string|
|photo|头像|string|
|interest|兴趣爱好|Array|
|address|收货地址|Array|
|name|昵称|string|
|gender|性别|string|


请求参数示例：

```json
{
    "telephone": "18805862675",
    "photo":"I.jpg",
    "interest":"[运动，美食]"
    "address":"[ {
                "province": "liaoning",
                "city": "shenyang",
                "town": "hunnan",
                "detailinfortion": "Neu",
                "recevier": "xu",
                "telephone": "123124"
            },
             {
                "province": "liaoning",
                "city": "shenyang",
                "town": "hunnan",
                "detailinfortion": "Neu",
                "recevier": "xu",
                "telephone": "123124"
            }]",
    "name":"海怪",
    "gender":"female"
}
```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|string|



成功返回数据示例：

```json
{
    "result": "success",

}
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```

### 获取用户信息模块

| 接口地址 | 请求方式 |
| --- | --- |
| /users/getInformation/:telephone | GET|

#### 请求参数

|名称|含义|类型|
|---|---|---|
|telephone|手机号|string|


请求参数示例：

```json
{
    "telephone": "18805862675"
}
```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|string|
|telephone|手机号|string|
|photo|头像|string|
|interest|兴趣爱好|Array|
|address|收货地址|Array|
|name|昵称|string|
|gender|性别|string|


成功返回数据示例：

```json
{
    {
    "result": "success",
    "data": {
        "_id": "596c602df31dea029c81bc58",
        "telephone": "1",
        "password": "123456",
        "photo": "/static/img/userImage/1.gif",
        "name": "xu",
        "gender": "man",
        "__v": 0,
        "address":{
			province: "liaoning",
			city: "shenyang",
			town: "hunnan",
			detail: "Neu",
			receiver: "xu",
			telephone: "123124",
            isDefault:false
		},
        ..........
       
        ],
        "interest": [
            "1",
            "2",
            "3"
        ]
    }
}

}
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```


### 获取用户地址

| 接口地址 | 请求方式 |
| --- | --- |
| /users/Address/:userID | GET|

#### 请求参数

|名称|含义|类型|
|---|---|---|
|userID|用户ID|string|


请求参数示例：

```json
{
    "userID": "18805862675"
}
```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|string|

|address|收货地址|Array|



成功返回数据示例：

```json
{
    {
    "result": "success",
    "data": {
        "address":{
			province: "liaoning",
			city: "shenyang",
			town: "hunnan",
			detail: "Neu",
			receiver: "xu",
			telephone: "123124",
            isDefault:false
		},
        ........
        ]
    }
}

}
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```

### 修改收货地址

| 接口地址 | 请求方式 |
| --- | --- |
| /users/changeAddress | POST|

#### 请求参数

|名称|含义|类型|
|---|---|---|
|userID|用户ID|string|
|index|需要修改的地址在数组中的索引|Number|
|address|需要替换成的地址|Object|
请求参数示例：

```json
{
    "userID": "18805862675",
    "index":1,
   " address":{
			province: "liaoning",
			city: "shenyang",
			town: "hunnan",
			detail: "Neu",
			receiver: "xu",
			telephone: "123124",
            isDefault:false
		}
}
```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|string|
|address|当前收货地址|Array|



成功返回数据示例：

```json
{
    {
    "result": "success",
    "data": {
        "address":[{
			province: "liaoning",
			city: "shenyang",
			town: "hunnan",
			detail: "Neu",
			receiver: "xu",
			telephone: "123124",
            isDefault:false
		},
        ......
        ]
    }
}

}
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```
### 删除用户地址

| 接口地址 | 请求方式 |
| --- | --- |
| /users/address/:userID/:index | DELETE|

#### 请求参数

|名称|含义|类型|
|---|---|---|
|userID|用户ID|string|
|index|需要删除的地址在数组中的索引|Number|

请求参数示例：

```json
{
    "userID": "18805862675",
    "index":1
}
```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|string|
|date>address|收货地址|Array|



成功返回数据示例：

```json
{
    {
    "result": "success",
    "data": {
        "address":{
			province: "liaoning",
			city: "shenyang",
			town: "hunnan",
			detail: "Neu",
			receiver: "xu",
			telephone: "123124",
            isDefault:false
		},
        ........
        ]
    }
}

}
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```
### 添加收货地址

| 接口地址 | 请求方式 |
| --- | --- |
| /users/addAddress | POST|

#### 请求参数

|名称|含义|类型|
|---|---|---|
|userID|用户ID|string|
|address|需要增加的地址|Object|


请求参数示例：

```json
{
    "userID": "18805862675",
   " address":{
			province: "liaoning",
			city: "shenyang",
			town: "hunnan",
			detail: "Neu",
			receiver: "xu",
			telephone: "123124",
            isDefault:false
		}
}
```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|string|
|address|当前收货地址|Array|



成功返回数据示例：

```json
{
    {
    "result": "success",
    "data": {
        "address":[{
			province: "liaoning",
			city: "shenyang",
			town: "hunnan",
			detail: "Neu",
			receiver: "xu",
			telephone: "123124",
            isDefault:false
		},
        ......
        ]
    }
}

}
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```

### 获取商品信息

| 接口地址 | 请求方式 |
| --- | --- |
| /goods/goods | GET |

#### 请求参数

|名称|含义|类型|
|---|---|---|
|ID|商品编号|Number|



请求参数示例：

```json
{
    "ID": "1"
}
```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|ID|商品编号|Number|
|price| 价格|Number|
|topName|商品名字|String|
|chara|商品品类四字描述|String|
|subName|商品二级名字|String|
|shortDescription|6个简短描述，详情页需要|Array|
|shortDescriptionImage|3个描述的小图片| Array|
|headImage|顶部主要描述图片，第一张图片为缩小时展示| Array|
|type |商品能选分类|Array|
|inventory|库存| Number|
|description|商品介绍图片| Array|
|information|商品参数| Array|
|sale|商品销量|Number|
|category|商品所属分类|String|
|subCategory|商品所属子分类|String|
|date |商品上架时间|String|
|manufacturer|商品制造商| String|
|label|商品正在进行的活动|Array|
|type|商品类型| String|
|content|用户评价内容| String|
|picture|用户返图| Array|
|customerPicrure|用户头像| String|
|customerName|用户昵称| String|



成功返回数据示例：

```json
{
    "result": "success",
    "data": [
        {
            "_id": "5969da31a6fb2d1b9c5f15ca",
            "ID": 0,
            "price": 5,
            "chara": "二种可选",
            "topName": "懒人清洁新选择",
            "subName": "高效清洁组合",
            "sale": 44,
            "category": "0",
            "subCategory": "100",
            "date": "1500109361898",

            "manufacturer": "ck",
            "__v": 0,
            "label": [
                {
                    "title": "爆品",
                    "type": "1"
                },
                {
                    "title": "新品",
                    "type": "2"
                }
            ],
            "information": [
                {
                    "attrName": "asd",
                    "attrValue": "af"
                },
                {
                    "attrName": "asd",
                    "attrValue": "af"
                },
                {
                    "attrName": "asd",
                    "attrValue": "af"
                }

            ],
            "description": [
                "a",
                "a",
                "a",
                "a",
                "a",
                "a"
            ],
            "inventory": [
                999,
                999,
                999,
                999,
                999,
                999
            ],

            "type": [
                "a",
                "a",
                "a",
                "a",
                "a",
                "a"
            ],
            "headImage": [
                "/static/img/goodsImage/1.png",
                "a",
                "a",
                "a",
                "a"
            ],
            "shortDescriptionImage": [
                "a",
                "a",
                "a",
                "a",
                "a",
                "a"
            ],
            "shortDescription": [
                "a",
                "a",
                "a",
                "a",
                "a",
                "a"
            ]
        },
        {
            "_id": "5969da32a6fb2d1b9c5f1643",
            "goodsID": 0,
            "userID": "1",
            "content": " 网易严选、就是这么自信！",
            "commentDate": "1500109362086",
            "type": "红色",
            "__v": 0,
            "picture": [
                "1.jpg",
                "2.jpg"
            ]
        },
        {
            "customerPicture": "",
            "customerName": "xu"
        }
    ]

}
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```


### 获取销量前几的商品信息

| 接口地址 | 请求方式 |
| --- | --- |
| /goods/topSale | GET |

#### 请求参数

|名称|含义|类型|
|---|---|---|




请求参数示例：

```json
{
    //无需参数
}
```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|ID|商品编号|Number|
|price| 价格|Number|
|topName|商品名字|String|
|chara|商品品类四字描述|String|
|subName|商品二级名字|String|
|headImage|描述图片|String|
|label|商品正在进行的活动|Array|



成功返回数据示例：

```json
{
    "result": "success",
    "data": [
        {
            "_id": "596480f3e1f2080bf4d296dd",
            "ID": 4,
            "price": 45,
            "topName": "a",
            "chara":"a",
            "subName": "b",
            "label": [
                {
                    "type": "1",
                    "title": "a"
                },
                {
                    "type": "2",
                    "title": "a"
                }
            ],
            
        }
        ......
}
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```

### 获取最新上架的商品信息

| 接口地址 | 请求方式 |
| --- | --- |
| /goods/recentSale | GET |

#### 请求参数

|名称|含义|类型|
|---|---|---|




请求参数示例：

```json
{
    //无需参数
}
```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|ID|商品编号|Number|
|price| 价格|Number|
|topName|商品名字|String|
|chara|商品品类四字描述|String|
|subName|商品二级名字|String|
|headImage|描述图片|String|
|label|商品正在进行的活动|Array|



成功返回数据示例：

```json
{
    "result": "success",
    "data": [
        {
            "_id": "596480f3e1f2080bf4d296dd",
            "ID": 4,
            "price": 45,
            "topName": "a",
            "chara":"a",
            "subName": "b",
            "label": [
                {
                    "type": "1",
                    "title": "a"
                },
                {
                    "type": "2",
                    "title": "a"
                }
            ],
            
        }
        ......
}
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```

### 根据商品分类获取所有商品分类下的商品

| 接口地址 | 请求方式 |
| --- | --- |
| /goods/displayGoods | GET |

#### 请求参数

|名称|含义|类型|
|---|---|---|



请求参数示例：

```json
{
    //无需参数
}
```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|String|
|name|商品分类|String|
|data|当前分类下的商品|Array|




成功返回数据示例：

```json
{
    "result": "success",
    "data": [
        {
            "name": "0",
            "data": [
                {
                    "ID": 0,
                    "topName": "a",
                    "subName": "b",
                    "price": 5,
                    "label": [
                        {
                            "type": "1",
                            "title": "a"
                        },
                        {
                            "type": "2",
                            "title": "a"
                        }
                    ],
                    "chara": "A",
                    "headImage": "a",
                    "category": "0"
                },
                {
                    "ID": 0,
                    "topName": "a",
                    "subName": "b",
                    "price": 5,
                    "label": [
                        {
                            "type": "1",
                            "title": "a"
                        },
                        {
                            "type": "2",
                            "title": "a"
                        }
                    ],
                    "chara": "A",
                    "headImage": "a",
                    "category": "0"
                }
                .......
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```

### 获取商品分类

| 接口地址 | 请求方式 |
| --- | --- |
| /goods/category | GET |

#### 请求参数

|名称|含义|类型|
|---|---|---|




请求参数示例：

```json
{
    //无需参数
}
```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|String|
|data|返回数据|Array|
|data>name|分类名|String|
|data>picture|分类页面图片|String|
|data>subCatagory|子分类|Array|



成功返回数据示例：

```json
{
    "result": "success",
    "data": [
        {
            "_id": "5965c26e9258131360e27a10",
            "name": "9",
            "picture": "a.jpg",
            "__v": 0,
            "subCatagory": [
                {
                    "name": 109,
                    "photo": "a.jpg"
                },
                {
                    "name": "a",
                    "photo": "a.jpg"
                }
            ]
        },
        {
            "_id": "5965c3991a207f1514419867",
            "name": "0",
            "picture": "a.jpg",
            "__v": 0,
            "subCatagory": [
                {
                    "name": 100,
                    "photo": "a.jpg"
                },
                {
                    "name": "a",
                    "photo": "a.jpg"
                }
            ]
        }
        ]
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```

### 获取特定分类下所有子分类的商品

| 接口地址 | 请求方式 |
| --- | --- |
| /goods/certainCategory | POST |

#### 请求参数

|名称|含义|类型|
|---|---|---|
|category|主分类|String|



请求参数示例：

```
{
"category":"0"
}


```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|String|
|name|商品分类|String|
|data|当前分类下的商品|Array|



成功返回数据示例：

```json
{
    "result": "success",
    "data": [
        {
            "name": 100,
            "data": [
                {
                    "ID": 0,
                    "topName": "懒人清洁新选择",
                    "subName": "高效清洁组合",
                    "price": 5,
                    "label": [
                        {
                            "type": "1",
                            "title": "爆品"
                        },
                        {
                            "type": "2",
                            "title": "新品"
                        }
                    ],
                    "chara": "二种可选",
                    "headImage": "/static/img/goodsImage/1.png"
                }
                ,
                ｛
                ｝
            ]
        },
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```

### 获取特定子分类下所有的商品

| 接口地址 | 请求方式 |
| --- | --- |
| /goods/subCategoryGoods | POST |

#### 请求参数

|名称|含义|类型|
|---|---|---|
|subCategory|子分类|String|



请求参数示例：

```
{
"subCategory":"100"
}


```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|String|
|name|商品分类|String|
|data|当前分类下的商品|Array|



成功返回数据示例：

```json
{
    "result": "success",
    "data": [
        {
            "ID": 1,
            "topName": "懒人清洁新选择",
            "subName": "高效清洁组合",
            "price": 15,
            "label": [
                {
                    "type": "1",
                    "title": "爆品"
                },
                {
                    "type": "2",
                    "title": "新品"
                }
            ],
            "chara": "二种可选",
            "headImage": "/static/img/goodsImage/1.png"
        }
    ]
}
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```

### 根据特定关键词查找商品

| 接口地址 | 请求方式 |
| --- | --- |
| /goods/search | POST |

#### 请求参数

|名称|含义|类型|
|---|---|---|
|key|关键词|String|



请求参数示例：

```
{
"key":"关键词"
}


```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|String|
|data|与关键字匹配的商品(十个)|Array|



成功返回数据示例：

```json
{
    "result": "success",
    "data": [
        {
            "ID": 0,
            "topName": "懒人清洁新选择",
            "subName": "高效清洁组合",
            "price": 5,
            "label": [
                {
                    "type": "1",
                    "title": "爆品"
                },
                {
                    "type": "2",
                    "title": "新品"
                }
            ],
            "chara": "二种可选",
            "headImage": "/static/img/goodsImage/1.png"
    },
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```

### 获取当前系统中所有的分类

| 接口地址 | 请求方式 |
| --- | --- |
| /goods/category | GET |

#### 请求参数

|名称|含义|类型|
|---|---|---|



请求参数示例：

```
{
    //无需参数
}


```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|String|
|data|返回数据|Array|
|data>name|商品分类|String|
|data>picture|商品分类|String|
|data>subCategory|当前分类下的子分类|Array|



成功返回数据示例：

```json
 "result": "success",
    "data": [
        {
            "_id": "59672064c548520de07d4253",
            "name": "8",
            "picture": "a.jpg",
            "__v": 0,
            "subCategory": [
                {
                    "name": 108,
                    "photo": "a.jpg"
                },
                {
                    "name": 109,
                    "photo": "a.jpg"
                },
                {
                    "name": 110,
                    "photo": "a.jpg"
                },
                {
                    "name": 111,
                    "photo": "a.jpg"
                },
                {
                    "name": 112,
                    "photo": "a.jpg"
                },
                {
                    "name": 113,
                    "photo": "a.jpg"
                },
                {
                    "name": 114,
                    "photo": "a.jpg"
                }
            ]
        },
        ........
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```

### 获取当前系统中所有的专题列表

| 接口地址 | 请求方式 |
| --- | --- |
| /goods/topic | GET |

#### 请求参数

|名称|含义|类型|
|---|---|---|



请求参数示例：

```
{
    //无需参数
}


```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|String|
|data|返回数据|Array|
|data>topicID|专题编号|Number|
|data>writer|专题作者|String|
|data>writerImage|专题作者头像|String|
|data>headline|专题标题|String|
|data>content|专题内容节选|String|
|data>picture|专题图片|Array|
|data>watchNumber|专题查看量|String|
|data>price|专题商品价格|Number|

成功返回数据示例：

```json
{
    "result": "success",
    "data": [
        {
            "_id": "596822d8779c2612a018a535",
            "topicID": 0,
            "writer": "餐厨组：锅锅",
            "writerImage": "/static/img/topicImage/0/writerImage/1.jpg",
            "headline": "用这套刀，发现德式厨房奥秘",
            "content": "如果你参观过德国人的厨房，一定会被满屋子的bling bling震撼到：不仅台面...",
            "watchNumber": "14.6k",
            "__v": 0,
            "picture": [
                "/static/img/topicImage/0/headImage/1.jpg",
                "/static/img/topicImage/0/headImage/2.jpg",
                "/static/img/topicImage/0/headImage/3.jpg"
            ],
            "price":34
        },
        {

        }
        {

        }
        ]
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```

### 在商品详情页直接购买

| 接口地址 | 请求方式 |
| --- | --- |
| /goods/order | POST |

#### 请求参数

|名称|含义|类型|
|goodsID|---|Number|
|type|---|String|
|number|---|Number|
|address|---|Object|
|totalFee|---|Number|
|userID|---|String|

请求参数示例：

```
{
    "goodsID":1,
    "type":"red",
    "number":2,
    "address":{
      "receiver":"abc",
      "province":"liaoning"
      "city":"shenyang"
      "detail":""
      "telephone":""
    },
    "totalFee":100,
    "userID":"1123124"
}


```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|String|
|orderID|订单号|Number|
|type|错误类型|String|

成功返回数据示例：

```json
{
    "result": "success",
    "orderID": "234356"
```

库存不足,失败返回数据示例：

```json  
{
    "result": "error",
    "type":"1" 
} 
```

找不到该商品,失败返回数据示例：

```json  
{
    "result": "error",
    "type":"2" 
} 
```

### 在商品详情页直接购买

| 接口地址 | 请求方式 |
| --- | --- |
| /goods/order | POST |

#### 请求参数

|名称|含义|类型|
|goodsID|商品编号|Number|
|type|商品类型|String|
|number|商品数量|Number|
|address|收货地址|Object|
|totalFee|总费用|Number|
|userID|用户ID|String|

请求参数示例：

```
{
    "goodsID":1,
    "type":"red",
    "number":2,
    "price":50,
    "name":"懒人清洁新选择",
    "picture":"/static/img/goodsImage/0/headImage/1.jpg",
    "address":{
      "receiver":"abc",
      "province":"liaoning"
      "city":"shenyang"
      "detail":""
      "telephone":""
    },
    "totalFee":100,
    "userID":"1123124"
}


```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|String|
|orderID|订单号|Number|
|type|错误类型|String|

成功返回数据示例：

```json
{
    "result": "success",
    "orderID": "234356"
```

库存不足,失败返回数据示例：

```json  
{
    "result": "error",
    "type":"1" 
} 
```

找不到该商品,失败返回数据示例：

```json  
{
    "result": "error",
    "type":"2" 
} 
```

### 选中购物车中的商品购买

| 接口地址 | 请求方式 |
| --- | --- |
| /shop/order | POST |

#### 请求参数

|名称|含义|类型|
|goodsList|---|Array|
|address|---|Object|
|totalFee|---|Number|
|userID|---|String|

请求参数示例：

```
{ 
   "goodsList":[{"ID": 1,"type": "1套装 伸缩杆懒人拖把+懒人抹布 4卷装+40片装 地板清洁湿巾 3包装","number": 1,"price":50,"name":"懒人清洁新选择","picture":"/static/img/goodsImage/0/headImage/1.jpg"
}],
    "address":{
      "receiver":"abc",
      "province":"liaoning"
      "city":"shenyang"
      "detail":""
      "telephone":""
    },
    "totalFee":100,
    "userID":"1123124"
}


```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|String|
|orderID|订单号|Number|
|warning|出错商品的名称|Array|

成功返回数据示例：

```json
{
    "result": "success",
    "orderID": "234356"
```

库存不足,失败返回数据示例：

```json  
{
    "result": "error",
    "warning":['asd','asd']
} 
```


### 获取用户购物车列表

| 接口地址 | 请求方式 |
| --- | --- |
| /shop/cart/:ID | GET |

#### 请求参数

|名称|含义|类型|
|---|---|---|
|ID|用户ID|String|


请求参数示例：

```
{
    "ID":"123124"
}


```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|String|
|data|返回数据|Array|
|data>goodsList|购物车中商品列表|Array|


成功返回数据示例：

```json
{
    "result": "success",
    "data": [
        {
             "picture": "/static/img/goodsImage/0/headImage/1.jpg",
            "name": "懒人清洁新选择",
            "price": 50,
            "number": 1,
            "type": "1",
            "ID": 1
        },
        {

        }
        {

        }
        ]
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```

### 添加商品到购物车

| 接口地址 | 请求方式 |
| --- | --- |
| /shop/addToCart | POST |

#### 请求参数

|名称|含义|类型|
|---|---|---|
|ID|商品ID|Number|
|type|商品类型|String|
|number|商品数量|Number|
|userID|用户ID|String|

请求参数示例：

```
{
    "ID":"123124"，
    "userID":1234234,
    "type": "1",
    "number": 1
}


```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|String|
|cartList|购物车中商品列表|Array|


成功返回数据示例：

```json
{
    "result": "success",
    "cartList":[{
        "picture": "/static/img/goodsImage/0/headImage/1.jpg",
            "name": "懒人清洁新选择",
            "price": 50,
            "number": 1,
            "type": "1",
            "ID": 1
     },{
        "picture": "/static/img/goodsImage/0/headImage/1.jpg",
            "name": "懒人清洁新选择",
            "price": 50,
            "number": 1,
            "type": "1",
            "ID": 2
     }
     .....
    ]
}
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```

### 删除购物车中的某一个商品

| 接口地址 | 请求方式 |
| --- | --- |
| /shop/cart/:userid/:id | delete |

#### 请求参数

|名称|含义|类型|
|---|---|---|
|ID|商品ID|String|
|userID|用户ID|Number|

请求参数示例：

```
{
    "ID":"123124"，
    "userID":1234234,
}


```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|String|
|cartList|购物车中商品列表|Array|


成功返回数据示例：

```json
{
    "result": "success",
    "cartList":[{
        "picture": "/static/img/goodsImage/0/headImage/1.jpg",
            "name": "懒人清洁新选择",
            "price": 50,
            "number": 1,
            "type": "1",
            "ID": 1
     },{
      "picture": "/static/img/goodsImage/0/headImage/1.jpg",
            "name": "懒人清洁新选择",
            "price": 50,
            "number": 1,
            "type": "1",
            "ID": 1
     }
     .....
    ]
}
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```
### 修改购物车中某个商品的数量

| 接口地址 | 请求方式 |
| --- | --- |
| /shop/changeNumebr | POST |

#### 请求参数

|名称|含义|类型|
|---|---|---|
|ID|商品ID|Number|
|type|商品类型|String|
|number|修改后的商品数量|Number|
|userID|用户ID|String|

请求参数示例：

```
{
    "ID":"123124"，
    "userID":1234234,
    "type": "1",
    "number": 1
}


```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|String|
|cartList|购物车中商品列表|Array|


成功返回数据示例：

```json
{
    "result": "success",
    "cartList":[{
       "picture": "/static/img/goodsImage/0/headImage/1.jpg",
            "name": "懒人清洁新选择",
            "price": 50,
            "number": 1,
            "type": "1",
            "ID": 1
     },{
      "picture": "/static/img/goodsImage/0/headImage/1.jpg",
            "name": "懒人清洁新选择",
            "price": 50,
            "number": 1,
            "type": "1",
            "ID": 1
     }
     .....
    ]
}
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```

### 整体编辑购物车

| 接口地址 | 请求方式 |
| --- | --- |
| /shop/changeCart | POST |

#### 请求参数

|名称|含义|类型|
|---|---|---|
|userID|用户ID|String|
|cartList|购物车中商品列表|Array|

请求参数示例：

```
{
    "userID":1234234,
   "cartList":[{
      "picture": "/static/img/goodsImage/0/headImage/1.jpg",
            "name": "懒人清洁新选择",
            "price": 50,
            "number": 1,
            "type": "1",
            "ID": 1
     },{
     "picture": "/static/img/goodsImage/0/headImage/1.jpg",
            "name": "懒人清洁新选择",
            "price": 50,
            "number": 1,
            "type": "1",
            "ID": 1
     }]
}


```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|String|


成功返回数据示例：

```json
{
    "result": "success",
   
}
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```

### 返回对应订单号的订单

| 接口地址 | 请求方式 |
| --- | --- |
| /shop/order/:orderID | GET |

#### 请求参数

|名称|含义|类型|
|---|---|---|
|orderID|订单ID|String|

请求参数示例：

```
{
    "orderID":"1234234"
  
}


```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|String|
|data|数据|object|

成功返回数据示例：

```json
{
  "result": "success",
    "order": {
        "_id": "596c9368a1182b105c7bbcea",
        "orderID": "123",
        "userID": "1",
        "expressNumber": 123123,
        "expressCompany": "saddas",
        "orderState": 0,
        "payID": "",
        "totalFee": 50,
        "__v": 0,
        "orderDate":"123543465",
        "address": [
            {
                "province": "liaoning",
                "city": "shenyang",
                "town": "hunnan",
                "detailinfortion": "Neu",
                "recevier": "xu",
                "telephone": "123124"
            }
        ],
        "goodsList": [
            {
                "ID": "123",
                "number": 1,
                "type": "Asd",
                "price": 50,
                "name": "懒人清洁新选择",
                "picture": "/static/img/goodsImage/0/headImage/1.jpg"
            }
        ]
}
}
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```
### 返回某个用户的所有订单

| 接口地址 | 请求方式 |
| --- | --- |
| /shop/customerOrder/:userID| GET |

#### 请求参数

|名称|含义|类型|
|---|---|---|
|userID|用户ID|String|

请求参数示例：

```
{
    "userID":"1234234"
  
}


```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|String|
|data|数据|object|

成功返回数据示例：

```json
{
    "result": "success",
    "order": [
        {
            "_id": "596ec20ef53bd00fd0c93dae",
            "orderID": "123",
            "userID": "1",
            "expressNumber": 123123,
            "expressCompany": "saddas",
            "orderState": 0,
            "payID": "",
            "totalFee": 50,
            "__v": 0,
            "address": [
                {
                    "province": "liaoning",
                    "city": "shenyang",
                    "town": "hunnan",
                    "detailinfortion": "Neu",
                    "recevier": "xu",
                    "telephone": "123124"
                }
            ],
            "goodsList": [
                {
                    "ID": "123",
                    "number": 1,
                    "type": "Asd",
                    "price": 50,
                    "name": "懒人清洁新选择",
                    "picture": "/static/img/goodsImage/0/headImage/1.jpg"
                }
                ......
            ]
        }
        .......
    ]
}
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```


### 获取某个商品评论

| 接口地址 | 请求方式 |
| --- | --- |
| /goods/comment/:goodsID | GET |

#### 请求参数

|名称|含义|类型|
|---|---|---|
|goodsID|商品ID|String|

请求参数示例：

```
{
    "goodsID":"1234234"
  
}


```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|String|
|data|数据|Array|
|comment|用户评论|Array|
|user|评论的用户相关信息|Array|
成功返回数据示例：

```json
{
    "result": "success",
    "data": {
        "comment": [
            {
                "_id": "596b03924c0d7f1d48108ceb",
                "goodsID": 1,
                "userID": "1",
                "content": "物超所值，对于不愿弯腰干活的人拖把真的是福音啊，简单易操作。",
                "commentDate": "1500185490426",
                "type": "1套装 伸缩杆懒人拖把+懒人抹布 4卷装+40片装 地板清洁湿巾 3包装",
                "__v": 0,
                "picture": [
                    "/static/img/commentImage/0/1/1.jpg"
                ]
            },
            {
                "_id": "596b03a8d6effe27d85abb7c",
                "goodsID": 1,
                "userID": "1",
                "content": "物超所值，对于不愿弯腰干活的人拖把真的是福音啊，简单易操作。",
                "commentDate": "1500185512283",
                "type": "1套装 伸缩杆懒人拖把+懒人抹布 4卷装+40片装 地板清洁湿巾 3包装",
                "__v": 0,
                "picture": [
                    "/static/img/commentImage/0/1/1.jpg"
                ]
            }
        ],
        "user": [
            {
                "customerPicture": "/static/img/userImage/1.gif",
                "customerName": "xu"
            },
            {
                "customerPicture": "/static/img/userImage/1.gif",
                "customerName": "xu"
            }
        ]
    }
}
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```

### 订单支付成功，更新状态

| 接口地址 | 请求方式 |
| --- | --- |
| /shop/pay | POST |

#### 请求参数

|名称|含义|类型|
|---|---|---|
|orderID|订单ID|String|
|payID|支付ID|String|


请求参数示例：

```
{
    "orderID":"1234234",
    "payID":"1241241"
}


```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|String|

成功返回数据示例：

```json
{
    "result": "success",
  

}
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```

### 订单发货成功，更新状态

| 接口地址 | 请求方式 |
| --- | --- |
| /shop/deliverGoods | POST |

#### 请求参数

|名称|含义|类型|
|---|---|---|
|orderID|订单ID|String|
|expressCompany|快递公司|String|
|expressNumber|快递单号|Number|


请求参数示例：

```
{
    "orderID":"1234234",
    "expressCompany":"shunfeng",
    "expressNumber":1241243445

}


```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|String|

成功返回数据示例：

```json
{
    "result": "success",
  

}
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```
### 用户确认收货

| 接口地址 | 请求方式 |
| --- | --- |
| /shop/confirmGoods | POST |

#### 请求参数

|名称|含义|类型|
|---|---|---|
|orderID|订单ID|String|



请求参数示例：

```
{
    "orderID":"1234234"
}


```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|String|

成功返回数据示例：

```json
{
    "result": "success",
  

}
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```

### 商品添加评论

| 接口地址 | 请求方式 |
| --- | --- |
| /shop/comment | PATCH |

#### 请求参数

|名称|含义|类型|
|---|---|---|
|orderID|订单ID|String|
|goodsID|商品ID|String|
|userID|用户ID|Number|
|content|评论内容|String|
|commentDate|评论时间|String|
|type|评论的商品的类型|String|

请求参数示例：

```
{
    "orderID":"1234234",
    "goodsID":"1234435",
    "userID":1312345646,
    "content":"很不错",
     "content":1234435,
     "type":"red"

}


```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|String|

成功返回数据示例：

```json
{
    "result": "success",
  

}
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```

### 删除商品

| 接口地址 | 请求方式 |
| --- | --- |
| /admin/goods/:goodsID |DELETE |

#### 请求参数

|名称|含义|类型|
|---|---|---|
|goodsID|商品ID|String|


请求参数示例：

```
{
    "goodsID":"1234435"
}


```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|String|

成功返回数据示例：

```json
{
    "result": "success",
}
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```

### 获取所有订单

| 接口地址 | 请求方式 |
| --- | --- |
| /admin/allOrder |GET |

#### 请求参数

|名称|含义|类型|
|---|---|---|



请求参数示例：

```
{
    //无需请求参数
}


```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|String|
|data|返回数据|Array|
成功返回数据示例：

```json
{
    "result": "success",
    "data":{"_id": "596c9368a1182b105c7bbcea",
        "orderID": "123",
        "userID": "1",
        "expressNumber": 123123,
        "expressCompany": "saddas",
        "orderState": 0,
        "payID": "",
        "totalFee": 50,
        "__v": 0,
        "orderDate":"123543465",
        "address": [
            {
                "province": "liaoning",
                "city": "shenyang",
                "town": "hunnan",
                "detailinfortion": "Neu",
                "recevier": "xu",
                "telephone": "123124"
            }
        ],
        "goodsList": [
            {
                "ID": "123",
                "number": 1,
                "type": "Asd",
                "price": 50,
                "name": "懒人清洁新选择",
                "picture": "/static/img/goodsImage/0/headImage/1.jpg"
            }
        ]
    }
    .....
    ]
}
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```

### 修改某个商品信息

| 接口地址 | 请求方式 |
| --- | --- |
| /admin/changeInformation |PATCH |

#### 请求参数

|名称|含义|类型|
|---|---|---|
|ID|商品编号|Number|
|price| 价格|Number|
|topName|商品名字|String|
|chara|商品品类四字描述|String|
|subName|商品二级名字|String|
|type |商品能选分类|Array|
|inventory|库存| Number|
|information|商品参数| Array|
|sale|商品销量|Number|
|category|商品所属分类|String|
|subCategory|商品所属子分类|String|
|date |商品上架时间|String|
|manufacturer|商品制造商| String|
|label|商品正在进行的活动|Array|
|type|商品类型| String|


请求参数示例：

```
{
            "ID": 0,
            "price": 5,
            "chara": "二种可选",
            "topName": "懒人清洁新选择",
            "subName": "高效清洁组合",
            "sale": 44,
            "category": "0",
            "subCategory": "100",
            "date": "1500109361898",
            "manufacturer": "ck",
            "label": [
                {
                    "title": "爆品",
                    "type": "1"
                },
                {
                    "title": "新品",
                    "type": "2"
                }
            ],
            "information": [
                {
                    "attrName": "asd",
                    "attrValue": "af"
                },
                {
                    "attrName": "asd",
                    "attrValue": "af"
                },
                {
                    "attrName": "asd",
                    "attrValue": "af"
                }

            ],
            "inventory": [
                999,
                999,
                999,
                999,
                999,
                999
            ],

            "type": [
                "a",
                "a",
                "a",
                "a",
                "a",
                "a"
            ],
        }
}


```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|String|


成功返回数据示例：

```json
{
    "result": "success",
}
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```


### 获取所有商品

| 接口地址 | 请求方式 |
| --- | --- |
| /admin/allGoods |GET |

#### 请求参数

|名称|含义|类型|
|---|---|---|



请求参数示例：

```
{
    //无需请求参数
}


```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|String|
|data|返回数据|Array|

成功返回数据示例：

```json
{
    "result": "success",
    "data":[
         {
            "ID": 0,
            "price": 5,
            "chara": "二种可选",
            "topName": "懒人清洁新选择",
            "subName": "高效清洁组合",
            "sale": 44,
            "category": "0",
            "subCategory": "100",
            "date": "1500109361898",
            "manufacturer": "ck",
            "label": [
                {
                    "title": "爆品",
                    "type": "1"
                },
                {
                    "title": "新品",
                    "type": "2"
                }
            ],
            "information": [
                {
                    "attrName": "asd",
                    "attrValue": "af"
                },
                {
                    "attrName": "asd",
                    "attrValue": "af"
                },
                {
                    "attrName": "asd",
                    "attrValue": "af"
                }
            ],
            "description": [
                "a",
                "a",
                "a",
                "a",
                "a",
                "a"
            ],
            "inventory": [
                999,
                999,
                999,
                999,
                999,
                999
            ],
            "type": [
                "a",
                "a",
                "a",
                "a",
                "a",
                "a"
            ],
            "headImage": [
                "/static/img/goodsImage/1.png",
                "a",
                "a",
                "a",
                "a"
            ],
            "shortDescriptionImage": [
                "a",
                "a",
                "a",
                "a",
                "a",
                "a"
            ],
            "shortDescription": [
                "a",
                "a",
                "a",
                "a",
                "a",
                "a"
            ]
        }
        ,
        ......
    ]
}
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```

### 获取所有主分类下商品的销量

| 接口地址 | 请求方式 |
| --- | --- |
| /admin/sale |GET|

#### 请求参数

|名称|含义|类型|
|---|---|---|


请求参数示例：

```
{
    //无需参数
}


```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|String|
|data|返回数据|Array|


成功返回数据示例：

```json
{
    "result": "success",
    "data": [
        {
            "name": "配件",
            "sale": 3355
        },
        {
            "name": "婴童",
            "sale": 2890
        },
        {
            "name": "志趣",
            "sale": 5442
        },
        {
            "name": "洗护",
            "sale": 3830
        },
        {
            "name": "餐厨",
            "sale": 3759
        },
        {
            "name": "杂货",
            "sale": 1810
        },
        {
            "name": "饮食",
            "sale": 4632
        },
        {
            "name": "服装",
            "sale": 3581
        },
        {
            "name": "居家",
            "sale": 16370
        }
    ]
}
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```


### 获取某个主分类下子分类商品的销量

| 接口地址 | 请求方式 |
| --- | --- |
| /admin/certainCategorySale/:category |GET|

#### 请求参数

|名称|含义|类型|
|---|---|---|
|category|主分类|String|

请求参数示例：

```
{
   "category":"居家"
}


```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|String|
|data|返回数据|Array|


成功返回数据示例：

```json
{
    "result": "success",
    "data": [
        {
            "name": "被枕",
            "sale": 1646
        },
        {
            "name": "家具",
            "sale": 2211
        },
        {
            "name": "布艺软装",
            "sale": 1836
        },
        {
            "name": "生活电器",
            "sale": 2408
        },
        {
            "name": "床品件套",
            "sale": 1672
        },
        {
            "name": "夏凉",
            "sale": 1154
        },
        {
            "name": "宠物",
            "sale": 1846
        },
        {
            "name": "灯具",
            "sale": 1480
        },
        {
            "name": "家饰",
            "sale": 2117
        }
    ]
}
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```

### 获取七天内每天商品销量

| 接口地址 | 请求方式 |
| --- | --- |
| /admin/recentSale |GET|

#### 请求参数

|名称|含义|类型|
|---|---|---|

请求参数示例：

```
{
   //无需参数
}


```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|String|
|data|返回数据|Array|


成功返回数据示例：

```json
{
    "result": "success",
    "data": [
        {
            "time": 1,
            "sale": 5
        },
        {
            "time": 2,
            "sale": 4
        },
        {
            "time": 3,
            "sale": 3
        },
        {
            "time": 4,
            "sale": 0
        },
        {
            "time": 5,
            "sale": 0
        },
        {
            "time": 6,
            "sale": 2
        },
        {
            "time": 7,
            "sale": 1
        }
    ]
}
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```


### 获取所有用户信息

| 接口地址 | 请求方式 |
| --- | --- |
| /admin/user | GET|

#### 请求参数

|名称|含义|类型|
|---|---|---|


请求参数示例：

```json
{
    //无需参数
}
```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|string|
|telephone|手机号|string|
|photo|头像|string|
|interest|兴趣爱好|Array|
|address|收货地址|Array|
|name|昵称|string|
|gender|性别|string|


成功返回数据示例：

```json
{
    {
    "result": "success",
    "data": [{
        "_id": "596c602df31dea029c81bc58",
        "telephone": "1",
        "password": "123456",
        "photo": "/static/img/userImage/1.gif",
        "name": "xu",
        "gender": "man",
        "__v": 0,
        "address":[{
			province: "liaoning",
			city: "shenyang",
			town: "hunnan",
			detail: "Neu",
			receiver: "xu",
			telephone: "123124",
            isDefault:false
		},
        ],
        "interest": [
            "1",
            "2",
            "3"
        ]
    }
    .....
    ]
}

}
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```

### 删除商品

| 接口地址 | 请求方式 |
| --- | --- |
| /admin/user/:userID |DELETE |

#### 请求参数

|名称|含义|类型|
|---|---|---|
|userID|用户ID|String|


请求参数示例：

```
{
    "userID":"1234435"
}


```

#### 返回参数

|名称|含义|类型|
|---|---|---|
|result|结果|String|

成功返回数据示例：

```json
{
    "result": "success",
}
```

失败返回数据示例：

```json  
{
    "result": "error",
} 
```